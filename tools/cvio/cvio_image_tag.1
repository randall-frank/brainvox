.TH cvio_image_tag 1
.SH NAME
cvio_image_tag - create a CVIO file from a dynamic directory of images
.SH SYNOPSIS
cvio_image_tag [options] src dst dirname startnum numimages
.SH DESCRIPTION
This is a specialized program.  It monitors a directory for incoming
images.  The images are copied into a CVIO file one by one.  Each image
is assumed to have a 8432 byte header with unsigned short pixels.
Only the image data is copied into the CVIO file.  The program waits
for at least NUMIMAGES to appear or no images for a fixed time.
Timestamps come from the CVIO file specifed by SRC.  The SRC file
is read for data samples that exceed a given threshold.  The timestamp
of the first sample that exceeds the threshold is used as the 
timestamp for the next incoming image.
.PP
The names of the files are generated by the following rules:
.PP
If the -s option is specified, the filenames are generated by
sprintf(tmp,STROPTION,STARTNUM+imagenumber); 
sprintf(filename,"%s/%s",DIRNAME,tmp); where imagenumber
starts at zero and goes to numimages-1.
.PP
Without -s, the images are named  DIRNAME/iX.MRGE.Y, where
X=STARTNUM+imagenumber and Y=imagenumber, where imagenumber
starts at zero and goes to numimages-1.
.PP
Options:
.TP
-v
Selects verbose mode
.TP
-t(thres)
Selects a gating threshold.  The default is 16000.
.TP
-m(matrix)
Select the x and y image size in pixels.  Default: 128 (128x128 images).
.TP
-h(headersize)
Select the image file header size in bytes.  Default: 8432.
.TP
-a(wait)
Set how long in seconds the app should wait without seeing a new image before
aborting.  Default: 300.
.TP
-s(str)
Select the filename template.  This is a valid sprintf() format string,
taking a single integer value.  There is no default.
.PP
.SH SEE ALSO
cvio_intro(1)
.SH NOTES
.SH ORIGIN
Brainvox, Human Neuroanatomy and Neuroimaging Lab, Department of Neurology,
University of Iowa
